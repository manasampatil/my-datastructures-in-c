#include <stdio.h>
#include <stdlib.h>
char* getLine() {
char *str = NULL;
int ch;
size_t size = 0, capacity = 8; // initial capacity
str = (char*)malloc(capacity * sizeof(char));
if (str == NULL) {
printf("Memory allocation failed!\n");
return NULL;
}
while ((ch = getchar()) != '\n' && ch != EOF) {
if (size + 1 >= capacity) {
capacity *= 2;
char *temp = (char*)realloc(str, capacity * sizeof(char));
if (temp == NULL) {
printf("Memory reallocation failed!\n");
free(str);
return NULL;
}
str = temp;
}
str[size++] = (char)ch;
}
str[size] = '\0'; 
return str; 
}
int main() {
printf("Enter a line: ");
char *input = getLine();
if (input != NULL) {
printf("You entered: %s\n", input);
free(input); // Free allocated memory
}
return 0;
}
